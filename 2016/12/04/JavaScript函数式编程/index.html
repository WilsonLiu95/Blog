<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <html xmlns:wb="http://open.weibo.com/wb">

  <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
  
  <title>JavaScript函数式编程 | WilsonLiu&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="摘要以往经常看到”函数式编程“这一名词，却始终没有花时间去学习，暑期实习结束之后一直忙于边养老边减肥，81天成功瘦身30斤+ ，开始回归正常的学习生活。便在看《JavaScript函数式编程》这本书，以系统了解函数式编程的知识。本文试图尽可能系统的描述JavaScript函数式编程。当然认识暂时停留于本书介绍的程度，如有错误之处，还请指正。">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript函数式编程">
<meta property="og:url" content="http://blog.wilsonliu.cn/2016/12/04/JavaScript函数式编程/index.html">
<meta property="og:site_name" content="WilsonLiu's blog">
<meta property="og:description" content="摘要以往经常看到”函数式编程“这一名词，却始终没有花时间去学习，暑期实习结束之后一直忙于边养老边减肥，81天成功瘦身30斤+ ，开始回归正常的学习生活。便在看《JavaScript函数式编程》这本书，以系统了解函数式编程的知识。本文试图尽可能系统的描述JavaScript函数式编程。当然认识暂时停留于本书介绍的程度，如有错误之处，还请指正。">
<meta property="og:image" content="http://wilsonliu.cn/cdn/img/201612/5be45dbd2fea86d07c96b392b776101b.JPG">
<meta property="og:image" content="http://wilsonliu.cn/cdn/img/201612/819ea5e142764c144202ad5c032a17da.JPG">
<meta property="og:updated_time" content="2016-12-06T07:22:27.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript函数式编程">
<meta name="twitter:description" content="摘要以往经常看到”函数式编程“这一名词，却始终没有花时间去学习，暑期实习结束之后一直忙于边养老边减肥，81天成功瘦身30斤+ ，开始回归正常的学习生活。便在看《JavaScript函数式编程》这本书，以系统了解函数式编程的知识。本文试图尽可能系统的描述JavaScript函数式编程。当然认识暂时停留于本书介绍的程度，如有错误之处，还请指正。">
<meta name="twitter:image" content="http://wilsonliu.cn/cdn/img/201612/5be45dbd2fea86d07c96b392b776101b.JPG">
  
  
    <link rel="icon" href="http://wilsonliu.cn/favicon.ico">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?fc8ddbf1bcbb18a7b8c1f9979eed0900";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!-- End Google Analytics -->



</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.wilsonliu.cn"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
          <a class="main-nav-link" href="/project">项目</a>
        
          <a class="main-nav-link" href="https://github.com/WilsonLiu95">github</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">WilsonLiu&#39;s blog</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="postcd ..-JavaScript函数式编程" class="article article-type-postcd .." itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/04/JavaScript函数式编程/" class="article-date">
  <time datetime="2016-12-04T05:10:35.000Z" itemprop="datePublished">2016-12-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript函数式编程
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>以往经常看到”函数式编程“这一名词，却始终没有花时间去学习，暑期实习结束之后一直忙于边养老边减肥，<strong>81天成功瘦身30斤+</strong> ，开始回归正常的学习生活。<br>便在看《JavaScript函数式编程》这本书，以系统了解函数式编程的知识。本文试图尽可能系统的描述JavaScript函数式编程。当然认识暂时停留于本书介绍的程度，如有错误之处，还请指正。<br><a id="more"></a><br>注：本书采用的函数式库Underscore。一下部分代码运行时，需引入Underscore。</p>
<h2 id="函数式编程简介"><a href="#函数式编程简介" class="headerlink" title="函数式编程简介"></a>函数式编程简介</h2><p>我们用一句话来直白的描述函数式编程：</p>
<blockquote>
<p>函数式编程通过使用函数来将值转换成抽象单元，接着用于构建软件系统。</p>
</blockquote>
<p>概括的来说，函数式编程包括以下技术</p>
<ul>
<li>确定抽象，并为其构建函数</li>
<li>利用已有的函数来构建更为复杂的抽象</li>
<li>通过将现有的函数传给其他函数来构建更加复杂的抽象</li>
</ul>
<p>注：JavaScript并不仅限于函数式编程语言，以下是另外3种常用的编程方式。</p>
<ul>
<li>命令式编程： 通过详细描述行为的编程方式</li>
<li>基于原型的面向对象编程： 基于原型对象及其实例的编程方式</li>
<li>元编程：对JavaScript执行模型数据进行编写和操作的编程方式<h2 id="函数式编程的一些特性"><a href="#函数式编程的一些特性" class="headerlink" title="函数式编程的一些特性"></a>函数式编程的一些特性</h2><h3 id="纯函数"><a href="#纯函数" class="headerlink" title="纯函数"></a>纯函数</h3>纯函数坚持以下属性（坚持纯度的标准不仅将有助于使程序更容易测试，也更容易推理。）</li>
<li>其结果只能从它的参数的值来计算</li>
<li>不能依赖于能被外部操作改变的数据</li>
<li>不能改变外部状态<h3 id="不变性-——-没有副作用"><a href="#不变性-——-没有副作用" class="headerlink" title="不变性 —— 没有副作用"></a>不变性 —— 没有副作用</h3>所谓”副作用”（side effect），指的是函数内部与外部互动（最典型的情况，就是修改全局变量的值），产生运算以外的其他结果。<br>函数式编程强调没有”副作用”，意味着函数要保持独立，所有功能就是返回一个新的值，没有其他行为，尤其是不得修改外部变量的值。</li>
</ul>
<h3 id="不修改状态"><a href="#不修改状态" class="headerlink" title="不修改状态"></a>不修改状态</h3><p>上一点已经提到，函数式编程只是返回新的值，不修改系统变量。因此，不修改变量，也是它的一个重要特点。在其他类型的语言中，变量往往用来保存”状态”（state）。不修改变量，意味着状态不能保存在变量中。<br>函数式编程使用参数保存状态，最好的例子就是递归。下面的代码是一个将字符串逆序排列的函数，它演示了不同的参数如何决定了运算所处的”状态”。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverse</span>(<span class="params">string</span>) </span>&#123;</div><div class="line">　　　　<span class="keyword">if</span>(string.length == <span class="number">0</span>) &#123;</div><div class="line">　　　　　　<span class="keyword">return</span> string;</div><div class="line">　　　　&#125; <span class="keyword">else</span> &#123;</div><div class="line">　　　　　　<span class="keyword">return</span> reverse(string.substring(<span class="number">1</span>, string.length)) + string.substring(<span class="number">0</span>, <span class="number">1</span>);</div><div class="line">　　　　&#125;</div><div class="line">　　&#125;</div></pre></td></tr></table></figure></p>
<h3 id="函数是一等公民"><a href="#函数是一等公民" class="headerlink" title="函数是一等公民"></a>函数是一等公民</h3><p>“一等”这个术语通常用来描述值。当函数被看作“一等公民”时，那它就可以去任何值可以去的地方，很少有限制。比如数字在Javascript里就是一等公民，同程<br>作为一等公民的函数就会拥有类似数字的性质。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fortytwo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">42</span>&#125; <span class="comment">// 函数与数字一样可以存储为变量</span></div><div class="line"><span class="keyword">var</span> fortytwo = [<span class="number">32</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">42</span>&#125;] <span class="comment">// 函数与数字一样可以存储为数组的一个元素</span></div><div class="line"><span class="keyword">var</span> fortytwo = &#123;<span class="attr">number</span>: <span class="number">32</span>, <span class="attr">fun</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">42</span>&#125;&#125; <span class="comment">// 函数与数字一样可以作为对象的成员变量</span></div><div class="line"><span class="number">32</span> + (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">42</span>&#125;) () <span class="comment">// 函数与数字一样可以在使用时直接创建出来</span></div><div class="line"></div><div class="line"><span class="comment">// 函数与数字一样可以被传递给另一个函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">weirdAdd</span>(<span class="params">n, f</span>)</span>&#123; <span class="keyword">return</span> n + f()&#125;</div><div class="line">weirdAdd(<span class="number">32</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">42</span>&#125;)</div><div class="line"></div><div class="line"><span class="comment">// 函数与数字一样可以被另一个函数返回</span></div><div class="line"><span class="keyword">return</span> <span class="number">32</span>;</div><div class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="number">42</span>&#125;</div></pre></td></tr></table></figure></p>
<h2 id="Applicative编程"><a href="#Applicative编程" class="headerlink" title="Applicative编程"></a>Applicative编程</h2><p>Applicative编程是特殊函数式编程的一种形式。Applicative编程的三个典型例子是<code>map,reduce,filter</code></p>
<blockquote>
<p>函数A作为参数提供给函数B。 (即定义一个函数，让它接收一个函数，然后调用它)</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">_.find([<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="number">3</span>,<span class="string">"d"</span>], _.isNumber) <span class="comment">// _.find与_.isNumber都是Underscore中的方法</span></div><div class="line"></div><div class="line"><span class="comment">// 自行实现一个Applicative函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">exam</span>(<span class="params">fun, coll</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> fun(coll);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 调用</span></div><div class="line">exam(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> e.join(<span class="string">","</span>)</div><div class="line">&#125;, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line"><span class="comment">// 结果 ”1,2,3“</span></div></pre></td></tr></table></figure>
<h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><p>定义:一个高阶函数应该可以执行以下至少一项操作。</p>
<ul>
<li>以一个函数作为参数</li>
<li>返回一个函数作为结果</li>
</ul>
<h3 id="以其他函数为参数的函数"><a href="#以其他函数为参数的函数" class="headerlink" title="以其他函数为参数的函数"></a>以其他函数为参数的函数</h3><h4 id="关于传递函数的思考：-max，finder，best"><a href="#关于传递函数的思考：-max，finder，best" class="headerlink" title="关于传递函数的思考： max，finder，best"></a>关于传递函数的思考： max，finder，best</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// max是一个高阶函数</span></div><div class="line"><span class="keyword">var</span> people = [&#123;<span class="attr">name</span>: <span class="string">"Fred"</span>, <span class="attr">age</span>: <span class="number">65</span>&#125;, &#123;<span class="attr">name</span>: <span class="string">"Lucy"</span>, <span class="attr">age</span>: <span class="number">36</span>&#125;];</div><div class="line">_.max(people, <span class="function"><span class="keyword">function</span>(<span class="params">p</span>) </span>&#123; <span class="keyword">return</span> p.age &#125;); </div><div class="line"><span class="comment">//=&gt; &#123;name: "Fred", age: 65&#125;</span></div></pre></td></tr></table></figure>
<p>但是，在某些方面这个函数是受限的，并不是真正的函数式。具体来说，对于<code>_.max</code>而言,比较总是需要通过大于运算符（&gt;）来完成。</p>
<p>不过，我们可以创建一个新的函数finder。它接收两个函数：一个用来生成可比较的值，而另一个用来比较两个值并返回当中的”最佳“值。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">finder</span>(<span class="params">valueFun, bestFun, coll</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> _.reduce(coll, <span class="function"><span class="keyword">function</span>(<span class="params">best, current</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> bestValue = valueFun(best);</div><div class="line">    <span class="keyword">var</span> currentValue = valueFun(current);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> (bestValue === bestFun(bestValue, currentValue)) ? best : current;</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在任何情况下，我们现在都可以用<code>finder</code>来找到不同类型的”最佳“值：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">finder(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.age&#125;, <span class="built_in">Math</span>.max, people) </div><div class="line"><span class="comment">// =&gt; &#123;name: ”Fred", age: 65&#125;</span></div><div class="line"></div><div class="line">finder(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">return</span> e.name&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> (x.charAt((<span class="number">0</span>) === <span class="string">"L"</span>) ? x : y),people&#125;) <span class="comment">// 偏好首字母为L的人</span></div><div class="line"><span class="comment">// =&gt; &#123;name:"Lucy", age: 36&#125;</span></div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line">**缩减一点**</div><div class="line">函数`finder<span class="string">`短小精悍，并且能按照我们预期来工作，但为了满足最大程度的灵活性，它重复了一些逻辑。</span></div><div class="line">`<span class="string">``</span>Javascript</div><div class="line"><span class="comment">//  在 finder函数中</span></div><div class="line"><span class="keyword">return</span> (bestValue === bestFun(bestValue, currentValue)) ? best : current;</div><div class="line"><span class="comment">// 在输入的函数参数中</span></div><div class="line"><span class="keyword">return</span> (x.charAt((<span class="number">0</span>) === <span class="string">"L"</span>) ? x : y</div></pre></td></tr></table></figure></p>
<p>你会发现上述两者的逻辑是完全相同的。finder的实现可以根据以下两个假设来缩减。</p>
<ul>
<li>如果第一个参数比第二个参数“更好”，比较最佳值的函数返回为true</li>
<li>比较最佳值的函数知道如何“分解”它的参数</li>
</ul>
<p>在以上假设的基础下，我们可以实现一个更简洁的best函数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">best</span>(<span class="params">fun, coll</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> _.reduce(coll, <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> fun(x, y) ? x : y;</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">best(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>) </span>&#123; <span class="keyword">return</span> x &gt; y &#125;, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]);</div><div class="line"><span class="comment">//=&gt; 5</span></div></pre></td></tr></table></figure></p>
<h4 id="关于传递函数的更多思考：重复，反复和条件迭代"><a href="#关于传递函数的更多思考：重复，反复和条件迭代" class="headerlink" title="关于传递函数的更多思考：重复，反复和条件迭代"></a>关于传递函数的更多思考：重复，反复和条件迭代</h4><p>首先，从一个简单的函数<code>repeat</code>开始。它以一个数字和一个值为参数，将该值进行多次复制，并放入一个数组中：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">repeat</span>(<span class="params">times, VALUE</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> _.map(_.range(times), <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> VALUE; &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">repeat(<span class="number">4</span>, <span class="string">"Major"</span>);</div><div class="line"><span class="comment">//=&gt; ["Major", "Major", "Major", "Major"]</span></div></pre></td></tr></table></figure></p>
<p><strong>使用函数，而不是值</strong><br>通过将参数从值替换为函数，打开了一个充满可能性的世界。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">repeatedly</span>(<span class="params">times, fun</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> _.map(_.range(times), fun);</div><div class="line">&#125;</div><div class="line"></div><div class="line">repeatedly(<span class="number">3</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor((<span class="built_in">Math</span>.random()*<span class="number">10</span>)+<span class="number">1</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">//=&gt; [1, 3, 8]</span></div></pre></td></tr></table></figure></p>
<p><strong>再次强调，“使用函数，而不是值”</strong><br>我们常常会知道函数应该被调用多少次，但有时候也知道什么时候推出并不取决于“次数”，而是条件！因此我可以定义另一个名为<code>iterateUntil</code>的函数。<br><code>iterateUntil</code>接收2个参数，一个用来执行一些动作，另一个用来进行结果检查。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">iterateUntil</span>(<span class="params">fun, check, init</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ret = [];</div><div class="line">  <span class="keyword">var</span> result = fun(init);</div><div class="line"></div><div class="line">  <span class="keyword">while</span> (check(result)) &#123;</div><div class="line">    ret.push(result);</div><div class="line">    result = fun(result);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> ret;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="返回其他函数的函数"><a href="#返回其他函数的函数" class="headerlink" title="返回其他函数的函数"></a>返回其他函数的函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">invoker</span> (<span class="params">NAME, METHOD</span>) </span>&#123; <span class="comment">// 接收一个方法，并在任何给定的对象上调用它</span></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">target <span class="regexp">/* args ... */</span></span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!existy(target)) fail(<span class="string">"Must provide a target"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">var</span> targetMethod = target[NAME];</div><div class="line">    <span class="keyword">var</span> args = _.rest(<span class="built_in">arguments</span>);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> doWhen((existy(targetMethod) &amp;&amp; METHOD === targetMethod), <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> targetMethod.apply(target, args);</div><div class="line">    &#125;);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> rev = invoker(<span class="string">'reverse'</span>, <span class="built_in">Array</span>.prototype.reverse);</div><div class="line"></div><div class="line">_.map([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]], rev);</div><div class="line"><span class="comment">//=&gt; [[3,2,1]]</span></div></pre></td></tr></table></figure>
<p><strong>高阶函数捕获参数</strong><br>高阶函数的参数是用来“配置”返回函数的行为的。对于<code>makeAdder</code>而言，它的参数配置了其返回函数每次添加数值的大小<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeAdder</span>(<span class="params">CAPTURED</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">free</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> free + CAPTURED;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> add10 = makeAdder(<span class="number">10</span>);</div><div class="line"></div><div class="line">add10(<span class="number">32</span>);</div><div class="line"><span class="comment">//=&gt; 42</span></div></pre></td></tr></table></figure></p>
<p><strong>捕获变量的好处</strong><br>用闭包来捕获增加值，并用作后缀。（但这样并不具有引用透明）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeUniqueStringFunction</span>(<span class="params">start</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> COUNTER = start;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">prefix</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> [prefix, COUNTER++].join(<span class="string">''</span>);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> uniqueString = makeUniqueStringFunction(<span class="number">0</span>);</div><div class="line"></div><div class="line">uniqueString(<span class="string">"dari"</span>);</div><div class="line"><span class="comment">//=&gt; "dari0"</span></div><div class="line"></div><div class="line">uniqueString(<span class="string">"dari"</span>);</div><div class="line"><span class="comment">//=&gt; "dari1"</span></div></pre></td></tr></table></figure></p>
<h2 id="由函数构建函数"><a href="#由函数构建函数" class="headerlink" title="由函数构建函数"></a>由函数构建函数</h2><h3 id="函数式组合的精华"><a href="#函数式组合的精华" class="headerlink" title="函数式组合的精华"></a>函数式组合的精华</h3><blockquote>
<p>精华：使用现有的零部件来建立新的行为，这些新行为同样也成为了已有的零部件。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 接收一个或多个函数，然后不断尝试依次调用这些函数的方法，直到返回一个非`undefined`的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">dispatch</span>(<span class="params"><span class="regexp">/* funs */</span></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> funs = _.toArray(<span class="built_in">arguments</span>);</div><div class="line">  <span class="keyword">var</span> size = funs.length;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">target <span class="regexp">/*, args */</span></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> ret = <span class="literal">undefined</span>;</div><div class="line">    <span class="keyword">var</span> args = _.rest(<span class="built_in">arguments</span>);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> funIndex = <span class="number">0</span>; funIndex &lt; size; funIndex++) &#123;</div><div class="line">      <span class="keyword">var</span> fun = funs[funIndex];</div><div class="line">      ret = fun.apply(fun, construct(target, args));</div><div class="line"></div><div class="line">      <span class="keyword">if</span> (existy(ret)) <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> str = dispatch(invoker(<span class="string">'toString'</span>, <span class="built_in">Array</span>.prototype.toString),</div><div class="line">invoker(<span class="string">'toString'</span>, <span class="built_in">String</span>.prototype.toString));</div><div class="line"></div><div class="line">str(<span class="string">"a"</span>);</div><div class="line"><span class="comment">//=&gt; "a"</span></div><div class="line"></div><div class="line">str(_.range(<span class="number">10</span>));</div><div class="line"><span class="comment">//=&gt; "0,1,2,3,4,5,6,7,8,9"</span></div></pre></td></tr></table></figure></p>
</blockquote>
<p>在这里，我们想做的只是返回一个遍历函数数组，并<code>apply</code>给一个目标对象的函数，返回第一个存在的值。<code>dispatch</code>满足了多态JavaScript<br>函数的定义。这样简化了委托具体方法的任务。例如，在underscore的实现中，你经常会看到许多不同的函数重复这样的模式。</p>
<ol>
<li>确保目标的存在</li>
<li>检查是否有原生版本，如果是则使用它</li>
<li>如果没有，那么做一些实现这些行为的具体任务。<ul>
<li>做特定类型的任务（如适用）</li>
<li>做特定参数的任务（如适用）</li>
<li>做特定个参数的任务（如适用）</li>
</ul>
</li>
</ol>
<p>同样的模式也体现在<code>Underscore</code>的函数<code>_.map()</code>的实现中：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">_.map = _.collect = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">  iteratee = cb(iteratee, context);</div><div class="line">  <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">      length = (keys || obj).length,</div><div class="line">      results = <span class="built_in">Array</span>(length);</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">    <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">    results[index] = iteratee(obj[currentKey], currentKey, obj);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> results;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>使用<code>dispatch</code>可以简化一些这方面的代码，并且更容易扩展。想象一下，你正在写一个可以为数组和字符串类型生成字符描述的<br>函数。使用dispatch则可以优雅的实现：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = dispatch(invoker(<span class="string">'toString'</span>, <span class="built_in">Array</span>.prototype.toString),</div><div class="line">invoker(<span class="string">'toString'</span>, <span class="built_in">String</span>.prototype.toString));</div><div class="line"></div><div class="line">str(<span class="string">"a"</span>);</div><div class="line"><span class="comment">//=&gt; "a"</span></div><div class="line"></div><div class="line">str(_.range(<span class="number">10</span>));</div><div class="line"><span class="comment">//=&gt; "0,1,2,3,4,5,6,7,8,9"</span></div></pre></td></tr></table></figure></p>
<h3 id="柯里化-Curring"><a href="#柯里化-Curring" class="headerlink" title="柯里化 Curring"></a>柯里化 Curring</h3><blockquote>
<p>柯里化函数为每一个逻辑参数返回一个新函数。</p>
</blockquote>
<p><img src="http://wilsonliu.cn/cdn/img/201612/5be45dbd2fea86d07c96b392b776101b.JPG" alt="柯里化图形描述"></p>
<p>例如：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 除法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">divide</span>(<span class="params">n,d</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> n/d;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 手动柯里化</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">curryDivide</span>(<span class="params">n</span>) </span>&#123; </div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">d</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> n/d;</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>curryDivide</code>是手动柯里化函数，也就是说，我显示地返回对应参数数量的函数。</p>
<p><strong>自动柯里化参数</strong>  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 接收一个函数，并返回一个只接受一个参数的函数。</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">fun</span>) </span>&#123; <span class="comment">// 柯里化一个参数，虽然似乎没什么用</span></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> fun(arg);</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry2</span>(<span class="params">fun</span>) </span>&#123; <span class="comment">// 柯里化两个参数</span></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">secondArg</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">firstArg</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> fun(firstArg, secondArg);</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry3</span>(<span class="params">fun</span>) </span>&#123; <span class="comment">// 柯里化三个参数</span></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">last</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">middle</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">first</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> fun(first, middle, last);</div><div class="line">      &#125;;</div><div class="line">    &#125;;</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>curry2函数接受一个函数并将其柯里化成两个深层参数的函数。可以用它来实现先前定义的除法函数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> divide10 = curry2(div)(<span class="number">10</span>) </div><div class="line"></div><div class="line">divide10(<span class="number">50</span>)</div><div class="line"><span class="comment">// =&gt; 5</span></div></pre></td></tr></table></figure></p>
<p>柯里化函数有利于指定JavaScript函数行为，并将现有函数“组合”为新函数。并且使用柯里化比较容易产生流利的函数式API。</p>
<h3 id="部分应用"><a href="#部分应用" class="headerlink" title="部分应用"></a>部分应用</h3><p>柯里化函数逐渐返回消耗参数的函数，直到所有参数都耗尽。然而，部分应用函数是一个“部分“执行，等待接收剩余的参数立即执行的函数。</p>
<p><img src="http://wilsonliu.cn/cdn/img/201612/819ea5e142764c144202ad5c032a17da.JPG" alt="部分应用"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 部分应用一个或两个已知的参数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">partial1</span>(<span class="params">fun, arg1</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"><span class="regexp">/* args */</span></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> args = construct(arg1, <span class="built_in">arguments</span>); <span class="comment">// construct为拼接数组，在此代码略去</span></div><div class="line">    <span class="keyword">return</span> fun.apply(fun, args);</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">partial2</span>(<span class="params">fun, arg1, arg2</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"><span class="regexp">/* args */</span></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> args = cat([arg1, arg2], <span class="built_in">arguments</span>); <span class="comment">// cat也为拼接数组，在此代码略去</span></div><div class="line">    <span class="keyword">return</span> fun.apply(fun, args);</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 部分应用任意数量的参数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">partial</span>(<span class="params">fun <span class="regexp">/*, pargs */</span></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> pargs = _.rest(<span class="built_in">arguments</span>);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"><span class="regexp">/* arguments */</span></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> args = cat(pargs, _.toArray(<span class="built_in">arguments</span>));</div><div class="line">    <span class="keyword">return</span> fun.apply(fun, args);</div><div class="line">  &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="通过组合端至端的拼接函数"><a href="#通过组合端至端的拼接函数" class="headerlink" title="通过组合端至端的拼接函数"></a>通过组合端至端的拼接函数</h3><p>一种理想化的函数式程序是向函数流水线的一端输送的一块数据，从另一端输出一个全新的数据块。<br><code>!_.isString(name)</code><br>这个流水线由<code>_.isString</code>和<code>!</code>组成</p>
<ul>
<li><code>_.isString</code>接收一个对象，并返回一个布尔值</li>
<li><code>!</code>接收一个布尔值，并返回一个布尔值</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 通过组合多个函数及其数据转换建立新的函数</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isntString</span>(<span class="params">str</span>)</span>&#123;</div><div class="line"><span class="keyword">return</span> !_.isString(str)</div><div class="line">&#125;</div><div class="line"></div><div class="line">isntString(<span class="number">1</span>)</div><div class="line"><span class="comment">// =&gt; true</span></div><div class="line"></div><div class="line"><span class="comment">// 还可以使用Underscore的_.compose函数实现同样的功能</span></div><div class="line"><span class="comment">// _.compose函数从右往左执行。即最右边函数的结果会被送入其左侧的函数，一个接一个</span></div><div class="line"><span class="keyword">var</span> isntString = _.compose(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123; <span class="keyword">return</span> !x &#125;, _.isString);</div><div class="line"></div><div class="line">isntString([]);</div><div class="line"><span class="comment">//=&gt; true</span></div></pre></td></tr></table></figure>
<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><p>理解递归对理解函数式编程来说非常重要，原因有三。</p>
<ul>
<li>递归的解决方案包括使用对一个普通问题子集的单一抽象的使用</li>
<li>递归可以隐藏可变状态</li>
<li>递归是一种实现懒惰和无限大结构的方法<h3 id="自吸收函数"><a href="#自吸收函数" class="headerlink" title="自吸收函数"></a>自吸收函数</h3>在编写自递归函数时，规则如下</li>
<li>知道什么时候停止</li>
<li>决定怎样算一个步骤</li>
<li>把问题分解成一个步骤和一个较小的问题<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myLength</span>(<span class="params">ary</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (_.isEmpty(ary)) <span class="comment">// _.isEmpty何时停止 </span></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="comment">// 进行一个步骤 1+ ；</span></div><div class="line">    <span class="keyword">return</span> <span class="number">1</span> + myLength(_.rest(ary)); <span class="comment">// 小一些的问题 _.rest(ary)   </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>尾递归</strong><br>尾递归与一般自递归的明显区别是，”一个步骤“和”缩小的问题“中的元素都要进行递归调用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">tcLength</span>(<span class="params">ary, n</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> l = n ? n : <span class="number">0</span>;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (_.isEmpty(ary))</div><div class="line">    <span class="keyword">return</span> l;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">return</span> tcLength(_.rest(ary), l + <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">tcLength(_.range(<span class="number">10</span>));</div><div class="line"><span class="comment">//=&gt; 10</span></div></pre></td></tr></table></figure></p>
<h3 id="相互关联函数"><a href="#相互关联函数" class="headerlink" title="相互关联函数"></a>相互关联函数</h3><p>两个或多个函数相互调用被称为相互递归。下面看一个例子，用谓词函数来检查偶数和奇数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">evenSteven</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">return</span> oddJohn(<span class="built_in">Math</span>.abs(n) - <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">oddJohn</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">return</span> evenSteven(<span class="built_in">Math</span>.abs(n) - <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 相互递归调用来回反弹彼此之间递减某个绝对的值，知道一方或另一方达到0</span></div><div class="line">evenSteven(<span class="number">4</span>)</div><div class="line"><span class="comment">//  =&gt; true</span></div><div class="line">oddJohn(<span class="number">11</span>)</div><div class="line"><span class="comment">// =&gt;true</span></div></pre></td></tr></table></figure>
<h3 id="对递归的改进"><a href="#对递归的改进" class="headerlink" title="对递归的改进"></a>对递归的改进</h3><p>尽管递归技术上是可行的，但是因为JavaScript引擎没有优化递归调用，因此，在使用或写递归函数时，可能会碰到如下错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">evenSteven(10000) </div><div class="line">// 栈溢出</div></pre></td></tr></table></figure></p>
<p>递归应该被看作一个底层操作，应该尽可能地避免（很容易造成栈溢出）。普通的共识是，首先是要函数组合，仅当需要的时才使用递归和蹦床。</p>
<blockquote>
<p>蹦床（tramponline）:使用蹦床展平调用，而不是深度嵌套的递归调用。</p>
</blockquote>
<p>首先，看看如何手动修复<code>evenOline</code>和<code>oddOline</code>使得递归调用不会溢出。一个办法是返回一个函数，它包装调用，而不是直接直接调用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">evenOline</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">return</span> partial1(oddOline, <span class="built_in">Math</span>.abs(n) - <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">oddOline</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">return</span> partial1(evenOline, <span class="built_in">Math</span>.abs(n) - <span class="number">1</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">oddOline(<span class="number">3</span>)()() <span class="comment">// 返回的只是一个函数调用</span></div><div class="line"><span class="comment">// =&gt; function()&#123;return evenOline(Math.abs(n) - 1)&#125;</span></div><div class="line">oddOline(<span class="number">3</span>)()()() <span class="comment">// 将函数调用执行</span></div><div class="line"><span class="comment">// =&gt; true</span></div><div class="line">oddOline(<span class="number">10000</span>)()()()... <span class="comment">// 10000个()去执行返回的函数调用</span></div><div class="line"><span class="comment">// =&gt; true</span></div></pre></td></tr></table></figure></p>
<p>当然，我们不能直接向用户暴露这个API，可以提高另外一个函数<code>trampoline</code>，从程序执行来进行扁平化处理。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function trampoline(fun /*, args */) &#123; // 不断调用函数的返回值，知道它不是一个函数为止</div><div class="line">  var result = fun.apply(fun, _.rest(arguments));</div><div class="line"></div><div class="line">  while (_.isFunction(result)) &#123;</div><div class="line">    result = result();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  return result;</div><div class="line">&#125;</div><div class="line"></div><div class="line">trampoline(oddOline, 10000)</div><div class="line">// false</div></pre></td></tr></table></figure></p>
<p>由于调用链的间接性，使用蹦床增加了相互递归函数的一些开销。然而满总比溢出要好。同样，你可能不希望强迫用户使用<code>trampoline</code>，只是为了避免堆栈溢出。我们可以进一步隐藏其外观。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEvenSafe</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">return</span> trampoline(partial1(oddOline, <span class="built_in">Math</span>.abs(n) - <span class="number">1</span>));</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isOddSafe</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (n === <span class="number">0</span>)</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  <span class="keyword">else</span></div><div class="line">    <span class="keyword">return</span> trampoline(partial1(evenOline, <span class="built_in">Math</span>.abs(n) - <span class="number">1</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="基于流的编程"><a href="#基于流的编程" class="headerlink" title="基于流的编程"></a>基于流的编程</h2><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>使用jQuery等库经常会使用链接，链接可以让我们的代码更加简洁，如下是链接的实现示例。<br>链接方法的原理在于。每个链接的方法都返回统一的宿主对象引用。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName = <span class="string">""</span>;</div><div class="line">  <span class="keyword">var</span> age = <span class="number">0</span>;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">setFirstName</span>: <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</div><div class="line">      firstName = fn;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">setAge</span>: <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</div><div class="line">      age = a;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">toString</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> [firstName, lastName, age].join(<span class="string">' '</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">createPerson()</div><div class="line">  .setFirstName(<span class="string">"Mike"</span>)</div><div class="line">  .setAge(<span class="number">108</span>)</div><div class="line">  .toString();</div><div class="line"></div><div class="line"><span class="comment">//=&gt; "Mike 108"</span></div></pre></td></tr></table></figure></p>
<p><strong>惰性链</strong></p>
<p>上述链接是直接执行，然而我们也可以实行惰性链，即使其先缓存待执行的函数，等到调用执行函数时一起执行。<br>封装了一些行为的函数通常被称为<code>thunk</code>，存储在<code>_calls</code>中的<code>thunk</code>期待将作为接受<code>force</code>方法调用的对象的中间目标。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">LazyChain</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>._calls  = []; <span class="comment">// 用于缓存待执行函数的数组 thunk</span></div><div class="line">  <span class="keyword">this</span>._target = obj; <span class="comment">// 目标对象</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">LazyChain.prototype.invoke = <span class="function"><span class="keyword">function</span>(<span class="params">methodName <span class="regexp">/*, args */</span></span>) </span>&#123; <span class="comment">// 将函数压入的方法</span></div><div class="line">  <span class="keyword">var</span> args = _.rest(<span class="built_in">arguments</span>);</div><div class="line"></div><div class="line">  <span class="keyword">this</span>._calls.push(<span class="function"><span class="keyword">function</span>(<span class="params">target</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> meth = target[methodName];</div><div class="line"></div><div class="line">    <span class="keyword">return</span> meth.apply(target, args);</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">LazyChain.prototype.force = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 强制执行this._calls中的函数</span></div><div class="line">  <span class="keyword">return</span> _.reduce(<span class="keyword">this</span>._calls, <span class="function"><span class="keyword">function</span>(<span class="params">target, thunk</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> thunk(target);</div><div class="line">  &#125;, <span class="keyword">this</span>._target);</div><div class="line">&#125;;</div><div class="line"><span class="comment">// 使用，直到force方法被调用才将 concat, sort,join执行</span></div><div class="line"><span class="keyword">new</span> LazyChain([<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>])</div><div class="line">    .invoke(<span class="string">'concat'</span>, [<span class="number">8</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span>])</div><div class="line">    .invoke(<span class="string">'sort'</span>)</div><div class="line">    .invoke(<span class="string">'join'</span>,<span class="string">' '</span>)</div><div class="line">    .force();</div><div class="line"></div><div class="line"><span class="comment">// =&gt; "1 2 3 4 5 6 7 8"</span></div></pre></td></tr></table></figure></p>
<h3 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h3><p>链接模式有利于给对象的方法调用创建流程的API，但是对于函数式API则未必。<br>方法连接有各种各样的缺点，包括紧耦合对象的set和get逻辑。主要问题是，函数链经常会做调用之间改变传递的共同引用。函数式API重点在操作值而不是引用。<br>一下是管道的具体实现<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">pipeline</span>(<span class="params">seed <span class="regexp">/*, args */</span></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> _.reduce(_.rest(<span class="built_in">arguments</span>),</div><div class="line">                  <span class="function"><span class="keyword">function</span>(<span class="params">l,r</span>) </span>&#123; <span class="keyword">return</span> r(l); &#125;,</div><div class="line">                  seed);</div><div class="line">&#125;;</div><div class="line">pipeline(<span class="number">42</span>, <span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;<span class="keyword">return</span> -n&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;<span class="keyword">return</span> n+<span class="number">1</span>&#125;)</div><div class="line"><span class="comment">// =&gt; -41</span></div></pre></td></tr></table></figure></p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>本文更多的是对《JavaScript函数式编程》一书的摘要，并透过一段段代码试图阐述函数式编程的思想。<br>希望以后的工作中能够吸取函数式编程的好，并慢慢对其加深理解。从书中获取知识，最终还是要落于实践中去的。<br>同时，希望能够通过这篇文章帮助不了解函数式编程的小伙伴建立系统的认识。</p>

      
    </div>
    <footer class="article-footer">


  <!-- /赞赏代码开始 -->

  <!-- css -->
  <style type="text/css">
      .center {
          text-align: center;
      }
      .hidden {
          display: none;
      }
    .donate_bar a.btn_donate{
      display: inline-block;
      width: 82px;
      height: 82px;
      background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;
      _background: url("http://7xsl28.com1.z0.glb.clouddn.com/btn_reward.gif") no-repeat;

      <!-- http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif
           因为本 hexo 生成的博客所用的 theme 的 a:hover 带动画效果，
         为了在让打赏按钮显示效果正常 而 添加了以下几行 css，
         嵌入其它博客时不一定要它们。 -->
      -webkit-transition: background 0s;
      -moz-transition: background 0s;
      -o-transition: background 0s;
      -ms-transition: background 0s;
      transition: background 0s;
      <!-- /让打赏按钮的效果显示正常 而 添加的几行 css 到此结束 -->
    }

    .donate_bar a.btn_donate:hover{ background-position: 0px -82px;}
    .donate_bar .donate_txt {
      display: block;
      color: #9d9d9d;
      font: 14px/2 "Microsoft Yahei";
    }
    .bold{ font-weight: bold; }
  </style>
  <!-- /css -->

    <!-- Donate Module -->
    <div id="donate_module">

  <!-- btn_donate & tips -->
  <div id="donate_board" class="donate_bar center">
    <a id="btn_donate" class="btn_donate" target="_self" href="javascript:;" title="Donate 打赏"></a>
    <span class="donate_txt">
      欣赏此文？求鼓励，求支持！
    </span>
      
    
  </div>
  <!-- /btn_donate & tips -->

  <!-- donate guide -->
    
  <div id="donate_guide" class="donate_bar center hidden">

    <a href="http://wilsonliu.cn/cdn/img/201612/ce0b7da9bb31110c162ba7aa881daa43.JPG" title="用微信扫一扫哦~" class="fancybox" rel="article0">
      <img src="http://wilsonliu.cn/cdn/img/201612/ce0b7da9bb31110c162ba7aa881daa43.JPG" title="微信打赏 Colin" height="190px" width="190px"/>
    </a>
        
        &nbsp;&nbsp;

    <a href="http://wilsonliu.cn/cdn/img/201612/68a5f2d6f53cf54496e1d98985e15c10.JPG" title="用支付宝扫一扫即可~" class="fancybox" rel="article0">
      <img src="http://wilsonliu.cn/cdn/img/201612/68a5f2d6f53cf54496e1d98985e15c10.JPG" title="支付宝打赏 Colin" height="190px" width="190px"/>
    </a>

    <span class="donate_txt">
      欣赏此文？求鼓励，求支持！
    </span>

  </div>
  <!-- /donate guide -->

  <!-- donate script -->
  <script type="text/javascript">
    document.getElementById('btn_donate').onclick = function() {
      $('#donate_board').addClass('hidden');
      $('#donate_guide').removeClass('hidden');
    }

    function donate_on_web(){
      $('#donate').submit();
        }

    var original_window_onload = window.onload;
        window.onload = function () {
            if (original_window_onload) {
                original_window_onload();
            }
            document.getElementById('donate_board_wdg').className = 'hidden';
    }
  </script>
  <!-- /donate script -->
</div>
<!-- /Donate Module -->
   
  <!-- /赞赏代码结束 -->



      <a data-url="http://blog.wilsonliu.cn/2016/12/04/JavaScript函数式编程/" data-id="cj31dli3p000infu0drxyaunp" class="article-share-link">分享</a>
      
        <a href="http://blog.wilsonliu.cn/2016/12/04/JavaScript函数式编程/#ds-thread" class="article-comment-link">留言</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/12/06/H5数据推送/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          H5数据推送
        
      </div>
    </a>
  
  
    <a href="/2016/08/21/漫谈Web缓存/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">漫谈Web缓存</div>
    </a>
  
</nav>

  
</article>


      <div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="2016/12/04/JavaScript函数式编程/" data-title="JavaScript函数式编程" data-url="http://blog.wilsonliu.cn/2016/12/04/JavaScript函数式编程/"></div>
	<!-- 多说评论框 end -->
</div>





</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
    <h3 class="widget-title">联系方式</h3>
    <div class="widget">
      <p>网站：<a href="https://wilsonliu.cn">https://wilsonliu.cn</a></p>
      <p>邮箱：<a href="mailto:wilsonliuxyz@gmail.com">wilsonliuxyz@gmail.com</a></p>
      <p>微博：<a href="http://weibo.com/232534500">WilsonLiu95</a></p>
      <p>QQ：<a href="http://wpa.qq.com/msgrd?v=3&uin=527622467&site=qq&menu=yes">527622467</a></p>      
    </div>
</div>

  
    <div class="widget-wrap">
    <h3 class="widget-title">座右铭</h3>
    <div class="widget">
        <strong>致力于做一个有故事的人。</strong>
        <p>小时候听爸爸说他的故事，长大了去创造自己的故事；当父亲后有故事可讲；老了以后有故事可以回味。</p>
    </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title categories">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/性能/">性能</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/我的小产品/">我的小产品</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/过往历程/">过往历程</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title tagcloud">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/HTTP权威指南/" style="font-size: 16px; color: #8f4ef5">HTTP权威指南</a> <a href="/tags/Javascript/" style="font-size: 20px; color: #ee82ee">Javascript</a> <a href="/tags/PHP/" style="font-size: 14px; color: #5f34f8">PHP</a> <a href="/tags/kmark-kindle文字伴侣/" style="font-size: 10px; color: #00f">kmark kindle文字伴侣</a> <a href="/tags/前端/" style="font-size: 10px; color: #00f">前端</a> <a href="/tags/安全/" style="font-size: 12px; color: #301afc">安全</a> <a href="/tags/实习/" style="font-size: 10px; color: #00f">实习</a> <a href="/tags/数据结构/" style="font-size: 18px; color: #be68f1">数据结构</a> <a href="/tags/计算机网络/" style="font-size: 18px; color: #be68f1">计算机网络</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title recent-posts">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/05/23/试着探索高并发下的系统面貌/">试着探索高并发下的系统架构面貌</a>
          </li>
        
          <li>
            <a href="/2017/03/05/关于kmark的改版/">关于kmark的改版</a>
          </li>
        
          <li>
            <a href="/2016/12/14/聊聊这一年从技术麻瓜开始的奋斗史/">聊聊这一年从技术麻瓜开始的奋斗史</a>
          </li>
        
          <li>
            <a href="/2016/12/13/前端也该了解的一些后端知识/">前端也该了解的一些后端知识</a>
          </li>
        
          <li>
            <a href="/2016/12/06/H5数据推送/">H5数据推送</a>
          </li>
        
      </ul>
    </div>
  </div>

  
     

  <div class="widget-wrap">
    <h3 class="widget-title lastest-comments">最新评论</h3>
    <div class="widget">
         <div class="hot-comments">
    <!-- 多说最新评论 start -->
	<div class="ds-recent-comments" data-num-items="5" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="70"></div>
    <!-- 多说最新评论 end -->
</div>
    </div>
  </div>



  
     


  
    
  <div class="widget-wrap">
    <h3 class="widget-title archive">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">16</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


  
      <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
        <ul id='link-list'>
        <li><a href="https://wilsonliu.cn/">wilsonliu的个人网站</a></li>
        <li><a href="http://smallsfe.cn/">小前端博客</a></li>
        <li><a href="https://segmentfault.com/blog/wilsonliu95">segmentfault专栏</a></li>
        <li><a href="http://blog.csdn.net/liusheng95">CSDN专栏</a></li>
        <li><a href="https://github.com/WilsonLiu95">Github</a></li>
        </ul>
    </div>
  </div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2017 WilsonLiu&nbsp;
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;<a href="mailto:wilsonliuxyz@gmail.com">wilsonliuxyz@gmail.com</href>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
    <a href="/project" class="mobile-nav-link">项目</a>
  
    <a href="https://github.com/WilsonLiu95" class="mobile-nav-link">github</a>
  
</nav>
    


    	<script type="text/javascript">
        var duoshuoQuery = {short_name:"wilsonliu95"};
      </script>
      <script src="/duoshuo/embed.js"></script>


 <script src="/jquery/jquery.min.js"></script>



<script src="/js/script.js"></script>

  </div>
</body>
</html>